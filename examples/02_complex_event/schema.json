{
  "properties": {
    "id": { "type": "string" },
    "created_at": { "type": "timestamp" },
    "status": { "enum": ["active", "inactive", "pending"] }
  },
  "optionalProperties": {
    "tags": {
      "elements": { "type": "string" }
    },
    "metadata": {
      "values": { "type": "string" }
    },
    "nested": {
      "properties": {
        "level": { "type": "int32" },
        "details": {
          "discriminator": "type",
          "mapping": {
            "person": {
              "properties": {
                "firstName": { "type": "string" },
                "lastName": { "type": "string" }
              }
            },
            "company": {
              "properties": {
                "legalName": { "type": "string" },
                "taxId": { "type": "string" }
              }
            }
          }
        }
      }
    }
  }
}
